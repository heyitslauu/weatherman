(()=>{const t=document.querySelector(".container"),e=document.querySelector(".full-loader");let a="C";async function n(t="Manila",a=8){try{const e=await fetch(`http://api.weatherapi.com/v1/forecast.json?key=8242900a48ad4de4bd1132203230709&q=${t}&days=${a}&aqi=no&alerts=no`,{mode:"cors"}),n=await e.json();if(!e.ok)throw new Error(`Error! ${e.statusText}`);return n}catch(t){window.alert(t.message)}finally{e.classList.remove("active")}}function s(c){t.innerHTML="",function(t){const e=new Date(t);e.getFullYear(),(e.getMonth()+1).toString().padStart(2,"0"),e.getDate().toString().padStart(2,"0"),e.getHours().toString().padStart(2,"0"),e.getMinutes().toString().padStart(2,"0")}(c.localtime);let i=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][new Date(c.localtime).getDay()];const r=document.createElement("div");r.innerHTML=`<div class="form-search">\n        <form id="search-form" autocomplete="off">\n            <input type="text" name="location" placeholder="Manila" id="location" required>\n            <button type="submit" id="search-btn">Search</button>\n        </form>\n        </div>\n        <div class="current-forecast">\n            <div class="current-time">${i}</div>\n            <div class="current-location">${c.name},  ${c.country}</div>\n            <div class="current-temp">\n                <div class="temp-scale">\n                    <h1 class="current-scale">${"C"===a?c.temp_c:c.temp_f}</h1>\n                    <h3>°${"C"===a?"C":"F"}</h3>\n                </div>\n                <div class="">\n                    <img src="https:${c.condition.icon}" alt="${c.condition.text}">\n                </div>\n            </div>\n            <h2>${c.condition.text}</h2>\n            <div class="current-weather-details">\n                <div class="details-card">\n                    <img src="./assets/icons/wind.svg" alt="Wind SVG Image">\n                    <div>\n                        <p class="details_card_desc">Wind</p>\n                        <p class="details_card_val">${c.wind_kph} km/h</p>\n                    </div>\n                </div>\n                <div class="details-card">\n                    <img src="./assets/icons/uvIndex.svg" alt="UV Index SVG Image">\n                    <div>\n                        <p class="details_card_desc">UV Index</p>\n                        <p class="details_card_val">${c.uv}</p>\n                    </div>\n                </div>\n                <div class="details-card">\n                    <img src="./assets/icons/feelsLike.svg" alt="Heat Index SVG Image">\n                    <div>\n                        <p class="details_card_desc">Heat Index</p>\n                        <p class="details_card_val">${"C"===a?c.temp_c:c.temp_f} °${"C"===a?"C":"F"}</p>\n                    </div>\n                </div>\n                <div class="details-card">\n                    <img src="./assets/icons/humidity.svg" alt="Humidity SVG Image">\n                    <div>\n                        <p class="details_card_desc">Humidity</p>\n                        <p class="details_card_val">${c.humidity}</p>\n                    </div>\n                </div>\n            </div>\n        </div>`,t.prepend(r),document.getElementById("search-form").addEventListener("submit",(t=>{t.preventDefault(),async function(t){e.classList.add("active");const a=await n(t);s({...a.location,...a.current}),d(a.forecast),setTimeout((()=>{e.classList.remove("active")}),2e3)}(document.getElementById("location").value)}))}function d(e){const n=document.createElement("div"),s=e.forecastday;n.classList.add("forecast-weather");const d=document.createElement("h1");d.classList.add("forecast-title"),d.textContent="Weekly Forecast",n.prepend(d);const c=document.createElement("div");c.classList.add("week-forecast");let i="";s.slice(1).forEach((t=>{const e=new Date(t.date).getDay();i+=`<div class="forecast-card">\n                <div class="forecast-date">\n                    <h2>${["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][e]}</h2>\n                    <p class='temp-details'>${t.day.condition.text}</p>\n                </div>\n                <div class="forecast-temp">\n                    <img src="https:${t.day.condition.icon}" alt="${t.day.condition.text}">\n                    <h2>${"C"===a?t.day.avgtemp_c:t.day.avgtemp_f}</h2>\n                    <h3>° ${"C"===a?"C":"F"}</h3>\n                </div>\n            </div>`})),c.innerHTML=i,n.append(c),t.append(n)}document.addEventListener("DOMContentLoaded",(()=>{!async function(){try{e.classList.add("active");const t=await n();s({...t.location,...t.current}),d(t.forecast),setTimeout((()=>{e.classList.remove("active")}),2e3)}catch(t){window.alert(t.message)}finally{e.classList.remove("active")}}()}))})();